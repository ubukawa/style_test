id: pt-osm-poi
type: symbol
source: osm-l
source-layer: poi
filter: [
  match
  [
    get
    _source
  ]
  [
   osm_planet_places
  ]
  false
  [
  match
  [
    geometry-type
  ]
  [
    Point
    MultiPoint
  ]
  true
  false
  ]
  ] 
layout: {
  icon-image: [
    match
    [
      get
      capital
    ]
    yes
    national_capital
    [
      match
      [
        coalesce
        [
          get
          leasure
        ]
        [
          get
          sport
        ]
        [
          get
          amenity
        ]
        [
          get
          historic
        ]
        [
          get
          office
        ]
        [
          get
          tourism
        ]
        [
          get
          shop
        ]
        [
          get
          man_made
        ]
        [
          get
          landuse
        ]
        [
          get
          power
        ]
        [
          get
          aeroway
        ]
        [
          get
          railway
        ]
        [
          get
          public_transport
        ]
        [
          get
          highway
        ]
        [
          get
          religion
        ]
      ]
      [
        sports_centre
        tennis
        swimming_pool
        swimming
      ]
      sport
      [
        public_building
        townhall
      ]
      public_building
      [
        college
        university
      ]
      college
      [
        restaurant
        fast_food
        cafe
        food_court
      ]
      restaurant
      [
        biergarten
        nightclub
        pub
        bar
      ]
      bar
      [
        community_centre
        government
      ]
      other_public_building
      [
        library
        arts_centre
        archaeological_site
        ruins
        museum
      ]
      public_building
      [
        money_transfer
        bureau_de_change
        bank
        atm
      ]
      bank
      [
        monument
        memorial
        grave_yard
      ]
      memorial
      [
        castle
        fort
      ]
      castle
      [
        bed_and_breakfast
        hotel
        motel
        guest_house
        hostel
        chalet
      ]
      hotel
      [
        car_repair
        supermarket
        kiosk
        department_store
        clothes
        books
        butcher
        beverages
        alcohol
        optician
        stationery
        mobile_phone
        greengrocer
        car
        furniture
        computer
        hairdresser
        travel_agency
        cinema
        theatre
        marketplace
        car_rental
        bakery
      ]
      commercial
      [
      airfield
      aerodrome
      aeroway
      ]
      airfield
      [
      bus_station
      bus_stop
      ]
      bus_station
      [
      station
      halt
      tram_stop
      ]
      railway_station
      drinking_water
      water_supply
      park
      park
      stadium
      stadium
      embassy
      embassy
      hospital
      hospital
      fuel
      fuel
      airport
      airport
      helipad
      helipad
      ferry_terminal
      ferry_terminal
      zoo
      zoo
      theme_park
      theme_park
      ngo
      ngo
      pharmacy
      pharmacy
      courthouse
      courthouse
      police
      police_station
      prison
      prison
      fire_station
      fire_station
      post_office
      post_office
      school
      school
      default
    ]
  ]
  icon-size: [
    step
    [
      zoom
    ]
    [
      match
      [
        get
        capital
      ]
      yes
      1
      [
        case
        [
          has
          place
        ]
        0
        [
          any
          [
            has
            shop
          ]
          [
            has
            tourism
          ]
          [
            has
            craft
          ]
          [
            has
            amenity
          ]
          [
            has
            sports
          ]
        ]
        0
        1
      ]
    ]
    17
    1
  ]
  text-field: [
    step
    [
      zoom
    ]
    [
      case
      [
        has
        place
      ]
      [
        get
        name
      ]
      ""
    ]
    17
    [
      get
      name
    ]
  ]
  text-anchor: [
    step
    [
      zoom
    ]
    [
      match
      [
        get
        capital
      ]
      yes
      bottom-left
      center
    ]
    17
    top
  ]
  text-offset: [
    step
    [
      zoom
    ]
    [
      match
      [
        get
        capital
      ]
      yes
      [
        literal
        [
          0.4
          0
        ]
      ]
      [
        literal
        [
          0
          0
        ]
      ]
    ]
    17
    [
      literal
      [
        0
        1
      ]
    ]
  ]
  include _font
  text-size: [
    step
    [
      zoom
    ]
    [
      match
      [
        get
        capital
      ]
      yes
      20
      [
        match
        [
          get
          place
        ]
        city
        18
        town
        16
        [
          village
          hamlet
          isolated_dwelling
          locality
        ]
        12
        10
      ]
    ]
    18
    10
  ]
}
include _text_paint
